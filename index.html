<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Computational Challenge</title>
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>

    <py-env>
        - plotly
        - numpy
    </py-env>
</head>
<body>
    <h1>Task 1</h1>
    <div id="lineplot"></div>
    <py-script output="lineplot">
        import numpy as np
        import plotly.graph_objs as go

        def calculate_trajectory(theta, g, u, h, delta_t):
            theta_rad = np.radians(theta)
            t_max = (u * np.sin(theta_rad) + np.sqrt((u * np.sin(theta_rad))**2 + 2 * g * h)) / g
            t = np.arange(0, t_max + delta_t, delta_t)
            x = u * np.cos(theta_rad) * t
            y = h + u * np.sin(theta_rad) * t - 0.5 * g * t**2
            return x, y

        theta_init = 45
        g_init = 9.81
        u_init = 20.0
        h_init = 0.0
        delta_t_init = 0.01

        x, y = calculate_trajectory(theta_init, g_init, u_init, h_init, delta_t_init)

        fig = go.Figure(data=go.Scatter(x=x, y=y, mode='lines'))
        fig.update_layout(title='Task 1',
                          xaxis_title='Distance (m)',
                          yaxis_title='Height (m)')

        fig.show()
    </py-script>
</body>
</html>
